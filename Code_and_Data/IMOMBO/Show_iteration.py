import matplotlib.pyplot as plt


def round_to_four_decimals(data_list, list_name):
    """将列表中的数字保留4位小数"""
    rounded_list = [round(x, 4) for x in data_list]

    # print(f"{list_name} 保留4位小数后:")
    print(f"{list_name}: {rounded_list}")
    # print(f"长度: {len(rounded_list)}")
    # print()
    return rounded_list

# =====================
# 全局样式设置
# =====================
plt.rcParams["font.family"] = "Times New Roman"   # 若本地未安装，会自动替代
plt.rcParams["font.size"] = 12

# =====================
# 示例数据（IMOMBO 和 MOABC）
# =====================
# 可替换为完整数据列表
imombo_CT=[ 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 23.7, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 22.1, 22.1, 22.1, 22.1, 22.1, 22.1, 22.1, 22.1, 22.1, 22.1, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7, 21.7]
moabc_CT=[23.6, 23.4, 23.4, 23.8, 23.0, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.8, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0, 22.0]
mombo_CT=[24.7, 24.7, 24.7, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.4, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 24.3, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2,  23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 23.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2,  22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2, 22.2]
nsgaii_CT=[24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.1, 24.0, 24.0, 24.0, 24.0, 24.0, 23.8, 23.8, 23.8, 23.8, 23.8, 23.8, 23.8, 23.8, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 23.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5, 22.5]

imombo_ER= [1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.3173, 1.3173, 1.3173, 1.3173, 1.3173, 1.3173, 1.3173, 1.3173,  1.2772, 1.2772, 1.2772, 1.2772, 1.2772, 1.2772, 1.2772, 1.2772, 1.2772, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499, 1.1499]
moabc_ER=[1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.9175, 1.89, 1.8482, 1.8482, 1.7621, 1.7621, 1.7621, 1.7621, 1.7621, 1.7621, 1.7164, 1.6346, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.5826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826, 1.3826]
mombo_ER=[1.9435, 1.9435, 1.9435, 1.9435, 1.9435, 1.9435, 1.9435, 1.9435, 1.9435, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.8324, 1.7957, 1.7957, 1.7957, 1.7957, 1.7957, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820,  1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820,  1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820,  1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820, 1.4820]
nsgaii_ER=[1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.6016, 1.5554, 1.4504, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3782, 1.3637, 1.3637, 1.3637, 1.3637, 1.345, 1.345, 1.345, 1.345, 1.345, 1.345, 1.345, 1.345, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293, 1.293,  1.293, 1.293, 1.293, 1.293, 1.293, 1.293]

imombo_EC= [3.9312, 3.6342, 3.1671, 3.1671, 3.1671, 2.9781, 2.8053, 2.2032, 1.8765, 1.8765, 1.7361, 1.7361, 1.7361, 1.7361, 1.7361, 1.7361, 1.5444, 1.5444, 1.5444, 1.5444, 1.5444, 1.4607, 1.4607, 1.4607, 1.4607, 1.4607, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.4392, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.1394, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026, 1.026]
moabc_EC=[4.0419, 4.0419, 4.0419, 4.0419, 4.0419, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.8772, 3.7011, 3.7011, 3.7011, 3.7011, 3.7011, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8896, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404, 2.8404]
mombo_EC=[3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 3.0888, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.6271, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.5353, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031, 2.3031]
nsgaii_EC= [4.2364, 3.472, 3.472, 3.472, 3.472, 3.472, 2.9601, 2.9601, 2.9601, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.9055, 2.7405, 2.7405, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.4102, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 2.1978, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366,  1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366, 1.5366]


series_CT = {"IMOMBO": imombo_CT, "MOABC": moabc_CT, "MOMBO": mombo_CT, "NSGA-II": nsgaii_CT}
series_EC = {"IMOMBO": imombo_EC, "MOABC": moabc_EC, "MOMBO": mombo_EC, "NSGA-II": nsgaii_EC}
series_ER = {"IMOMBO": imombo_ER, "MOABC": moabc_ER, "MOMBO": mombo_ER, "NSGA-II": nsgaii_ER}


# =====================
# 绘制三子图并列 Figure
# =====================
fig, axes = plt.subplots(1, 3, figsize=(18, 5),gridspec_kw={'wspace': 0.2})

# --- Cycle Time ---
for name, ys in series_CT.items():
    axes[0].plot(range(1, len(ys) + 1), ys, label=name, linewidth=1.5)
axes[0].set_xlabel("Iteration")
axes[0].set_ylabel("Cycle Time")
axes[0].grid(True, linestyle="--", linewidth=0.5)
axes[0].legend(loc="upper right")

# --- Ergonomic Risk ---
for name, ys in series_ER.items():
    axes[1].plot(range(1, len(ys) + 1), ys, label=name, linewidth=1.5)
axes[1].set_xlabel("Iteration")
axes[1].set_ylabel("Ergonomic Risk")
axes[1].grid(True, linestyle="--", linewidth=0.5)
axes[1].legend(loc="upper right")

# --- Energy Consumption ---
for name, ys in series_EC.items():
    axes[2].plot(range(1, len(ys) + 1), ys, label=name, linewidth=1.5)
axes[2].set_xlabel("Iteration")
axes[2].set_ylabel("Energy Consumption")
axes[2].grid(True, linestyle="--", linewidth=0.5)
axes[2].legend(loc="upper right")

round_to_four_decimals(imombo_CT,"imombo_CT")
round_to_four_decimals(moabc_CT,"moabc_CT")
round_to_four_decimals(mombo_CT,"mombo_CT")
round_to_four_decimals(nsgaii_CT,"nsgaii_CT")
print()

round_to_four_decimals(imombo_ER,"imombo_ER")
round_to_four_decimals(moabc_ER,"moabc_ER")
round_to_four_decimals(mombo_ER,"mombo_ER")
round_to_four_decimals(nsgaii_ER,"nsgaii_ER")
print()

round_to_four_decimals(imombo_EC,"imombo_EC")
round_to_four_decimals(moabc_EC,"moabc_EC")
round_to_four_decimals(mombo_EC,"mombo_EC")
round_to_four_decimals(nsgaii_EC,"nsgaii_EC")
print()


plt.tight_layout()
# plt.savefig("combined_three_metrics_vs_iterations.png", dpi=300)
plt.show()
